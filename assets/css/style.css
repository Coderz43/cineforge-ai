/* assets/styles.css */
:root{
  --bg:#0f0f12;--fg:#f2f3f5;--muted:#9aa1ad;--card:#15151a;--line:#23232b;
  --primary:#7b3ff2;--primary-2:#5e2bd6;--chip:#1b1b22;--ok:#1db954;--warn:#f59f00;
  --radius:14px;--shadow:0 10px 30px rgba(0,0,0,.35);

  /* chips */
  --chip-bg:#1b1b22;
  --chip-text:#e5e7eb;
  --chip-border:rgba(229,231,235,.14);

  /* modal panel */
  --panel:#15151a;
  --panel-text:#f2f3f5;

  /* hover ring (blue like competitor) */
  --ring:#6aa7ff;
}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.6 system-ui,Segoe UI,Roboto,Inter,sans-serif}
a{color:inherit;text-decoration:none}
.container{max-width:1180px;margin:0 auto;padding:0 20px}

/* Header */
.topbar{position:sticky;top:0;z-index:50;display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background:#0b0b0e;backdrop-filter:blur(8px);border-bottom:1px solid var(--line);color:#fff}
.brand{font-weight:800;font-size:22px;letter-spacing:.3px}
.brand-accent{color:var(--primary)}
.nav{display:flex;gap:10px;align-items:center}
.nav-link{padding:8px 12px;border-radius:10px}
.nav-link:hover,.nav-link.active{background:var(--card)}
.topbar .nav-link{background:transparent!important;color:#fff!important;padding:0!important;border:0!important;box-shadow:none!important}
.topbar .nav-link:hover{opacity:.9}
.icon-btn{height:40px;width:40px;border-radius:10px;border:1px solid var(--line);background:var(--chip);color:#fff}

/* Hero */
.hero{padding:56px 0 22px;text-align:center}
.hero h1{font-size:46px;line-height:1.1;margin:0 0 8px}
.underline{border-bottom:5px solid var(--primary);padding-bottom:6px}
.sub{color:var(--muted);margin:0 auto;max-width:720px}
.mode-switch{display:flex;gap:10px;justify-content:center;margin:22px 0}

/* Chips / filters */
.chip,.filter,.genre-chip{
  border:1px solid var(--chip-border);
  background:var(--chip-bg);
  padding:10px 16px;
  border-radius:999px;
  color:var(--chip-text);
}
.chip--active,.filter--on,.genre-chip--active{
  background:var(--primary);
  border-color:transparent;
  color:#fff;
}
.chip:hover,.filter:hover,.genre-chip:hover{filter:brightness(1.06)}
.filter{padding:6px 10px;border-radius:10px}

/* Search / Toolbar controls */
.search{position:relative;display:flex;gap:10px;max-width:760px;margin:0 auto}
.search-input{flex:1;height:56px;padding:0 128px 0 42px;border-radius:999px;border:1px solid var(--line);background:var(--card);color:var(--fg)}
.search-icon{position:absolute;left:14px;top:50%;transform:translateY(-50%);height:20px;width:20px;fill:#8a8f98}
.btn{height:56px;padding:0 22px;border-radius:999px;border:0;cursor:pointer}
.btn-primary{background:var(--primary);color:#fff;font-weight:700}
.btn-primary:hover{background:var(--primary-2)}
.filters{display:flex;gap:8px;flex-wrap:wrap;margin:16px auto 0;max-width:900px;justify-content:center}

/* Grid / Card */
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin:28px 0 64px}
@media (max-width:1200px){.grid{grid-template-columns:repeat(4,1fr)}}
@media (max-width:950px){.grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:650px){.grid{grid-template-columns:repeat(2,1fr)}}

.card{
  background:var(--card);
  border:2px solid var(--line);
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:var(--shadow);
  cursor:pointer;
  transition:border-color .2s ease, box-shadow .2s ease, transform .15s ease;
  position:relative;
}
.card:hover{
  border-color:var(--ring);
  box-shadow:0 14px 40px rgba(106,167,255,.25);
  transform:translateY(-2px);
}
.card:focus-visible{outline:2px solid var(--ring);outline-offset:2px}

.poster{aspect-ratio:2/3;width:100%;object-fit:cover;background:#0b0b0e}
.meta{padding:10px 12px}
.kicker{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.4px}

/* Title clamp */
.title{
  font-weight:700;
  margin:4px 0;
  display:-webkit-box;
  -webkit-line-clamp:2;
  line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}
.row{display:flex;align-items:center;justify-content:space-between;font-size:13px;color:#c6c9d0}

/* remove actions from card */
.card-actions{display:none}

/* Badges & overlay bookmark */
.card .poster-wrap{position:relative}
.card .poster{display:block}
.card .badge{
  position:absolute;right:10px;top:10px;background:#7c3aed;color:#fff;
  font-weight:700;font-size:12px;border-radius:14px;padding:4px 8px
}
.card .bookmark{
  position:absolute;left:10px;top:10px;height:32px;width:32px;
  display:grid;place-items:center;border-radius:50%;
  background:rgba(0,0,0,.55);color:#fff;border:1px solid rgba(255,255,255,.2);
  transition:transform .12s ease, background .2s ease, color .2s ease;
}
.card .bookmark:hover{transform:scale(1.06)}
.card .bookmark.is-saved{background:var(--primary);color:#fff;border-color:transparent}

/* Empty / footer */
.empty{text-align:center;color:var(--muted);margin:42px 0}
.footer{border-top:1px solid var(--line);padding:22px;text-align:center;color:#a9afba}

/* Trailer modal (existing) */
.modal{position:fixed;inset:0;display:none}
.modal.show{display:block}
.modal-backdrop{position:absolute;inset:0;background:#0008}
.modal-dialog{position:relative;max-width:920px;aspect-ratio:16/9;margin:6vh auto;background:#000;border-radius:14px;overflow:hidden}
.modal-body{position:absolute;inset:0}
.modal-close{position:absolute;top:6px;right:10px;height:36px;width:36px;border-radius:50%;border:0;background:#111;color:#fff;font-size:22px;cursor:pointer}

/* THEME PALETTES */
:root[data-theme="dark"]{
  --bg:#0f0f12;--fg:#f2f3f5;--muted:#9aa1ad;--card:#15151a;--line:#23232b;
  --primary:#7b3ff2;--primary-2:#5e2bd6;--chip:#1b1b22;

  --chip-bg:#1f2430; --chip-text:#e5e7eb; --chip-border:rgba(229,231,235,.14);
  --panel:#111827; --panel-text:#e5e7eb;
}
:root[data-theme="light"]{
  --bg:#ffffff;--fg:#0f0f12;--muted:#50545c;--card:#ffffff;--line:#e9e9ee;
  --primary:#6b2de5;--primary-2:#5721d1;--chip:#f4f5f8;

  --chip-bg:#f4f5f8; --chip-text:#111827; --chip-border:rgba(17,24,39,.12);
  --panel:#ffffff; --panel-text:#111827;
}

/* Toolbar (global) */
.toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end;margin:12px 0 8px}
.sel,.text{height:40px;border:1px solid var(--line);background:var(--card);color:var(--fg);border-radius:10px;padding:0 12px}
.text{width:220px}

/* Typewriter caret */
.typo{display:inline-flex;gap:.35ch;align-items:baseline}
.caret{width:10px;height:1.25em;background:currentColor;display:inline-block;opacity:.85;animation:blink 1s steps(1) infinite}
@keyframes blink{50%{opacity:0}}

/* Light theme readability tweaks (global, high specificity) */
:root[data-theme="light"] .chip{color:var(--chip-text)!important}
:root[data-theme="light"] .chip--active{color:#fff!important}
:root[data-theme="light"] .toolbar .sel,
:root[data-theme="light"] .toolbar .text,
:root[data-theme="light"] #region-select,
:root[data-theme="light"] #price-select{
  background:#fff!important;
  color:#111!important;
  border-color:#dcdfe5!important;
}
:root[data-theme="light"] .toolbar .text::placeholder{color:rgba(17,17,17,.55)}
:root[data-theme="light"] .filters .filter{background:#f4f5f8;color:#111;border-color:#e5e7eb}

/* Hide when [hidden] */
.toolbar[hidden], #filters[hidden], #empty[hidden], #welcome[hidden]{display:none!important}

/* Bookmarks page light-only text */
:root[data-theme="light"] body.bookmarks .page-title,
:root[data-theme="light"] body.bookmarks .toolbar .sel,
:root[data-theme="light"] body.bookmarks .toolbar .text,
:root[data-theme="light"] body.bookmarks .empty{color:#111!important}

/* ===== Details Modal (poster + info + trailer) ===== */
#modal .modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.6)}
#modal .modal__dialog{
  position:relative;margin:3rem auto;max-width:960px;background:var(--panel);color:var(--panel-text);
  border-radius:16px;padding:16px;box-shadow:0 30px 70px rgba(0,0,0,.5)
}
#modal .modal__close{position:absolute;right:12px;top:8px;font-size:28px;background:transparent;border:0;color:inherit;cursor:pointer}
#modal .details{display:grid;grid-template-columns:280px 1fr;gap:16px}
@media (max-width:780px){#modal .details{grid-template-columns:1fr}}
#modal .details__poster{width:100%;border-radius:12px;display:block}
#modal .details__poster--empty{width:100%;height:420px;display:grid;place-items:center;background:#1f2937;border-radius:12px;color:#9ca3af}
#modal .details__title{margin:4px 0 6px;line-height:1.2}
#modal .details__sub{display:flex;gap:8px;align-items:center;opacity:.9}
#modal .details__sub .dot{width:4px;height:4px;background:currentColor;border-radius:50%;display:inline-block;opacity:.6}
#modal .details__genres{margin:8px 0 12px;display:flex;flex-wrap:wrap;gap:8px}
#modal .details__genres .chip{padding:6px 10px}
#modal .details__overview{opacity:.95}
#modal .details__section{margin:12px 0 8px}
#modal .badge{padding:2px 8px;border-radius:999px;border:1px solid var(--chip-border);font-size:.75rem}
#modal .video iframe{border-radius:12px}

/* providers section */
.providers{margin-top:4px;display:flex;flex-direction:column;gap:6px}
.prov-row{display:flex;align-items:flex-start;gap:10px}
.prov-label{min-width:70px;font-weight:700;color:var(--fg);opacity:.9}
.prov-list{display:flex;flex-wrap:wrap;gap:8px}
.prov{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--line);border-radius:10px;background:var(--card)}
.prov:hover{outline:2px solid var(--primary)}
.prov img{width:18px;height:12px;border-radius:4px;display:block}

/* ====== Region & Price Picker ====== */
.region-price-tools {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  margin: 10px auto 18px;
  max-width: 700px;
}
#region-select,
#price-select {
  height: 40px;
  border: 1px solid var(--line);
  background: var(--card);
  color: var(--fg);
  border-radius: 10px;
  padding: 0 12px;
  cursor: pointer;
  font-size: 14px;
  transition: border-color .2s ease, background .2s ease;
}
#region-select:hover,
#price-select:hover { border-color: var(--primary); background: var(--chip-bg); }
/* Light theme readability fixes */
:root[data-theme="light"] #region-select,
:root[data-theme="light"] #price-select { background:#fff; color:#111; border-color:#ddd; }

/* ====== Pill badge (region/price) ====== */
.pill{
  display:inline-block;
  padding:4px 10px;
  margin-left:6px;
  font-size:.75rem;
  font-weight:600;
  border-radius:999px;
  background:var(--chip-bg);
  color:var(--chip-text);
  border:1px solid var(--chip-border);
  vertical-align:middle;
}
:root[data-theme="light"] .pill{ background:#f4f5f8; color:#111; border-color:#ddd; }

/* === People strip (Module 4 — non-breaking) === */
.people-strip { margin: 18px 0 10px; }
.people-strip__head { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.people-strip__title { margin:0; font-size:1.05rem; font-weight:700; }

.people-strip__row {
  display:grid;
  grid-auto-flow: column;
  grid-auto-columns: 140px;
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 6px;
  scrollbar-width: thin;
}

.person-card {
  display:block;
  text-decoration:none;
  color:inherit;
  border:1px solid var(--line);
  border-radius:12px;
  overflow:hidden;
  background: var(--card);
  transition: transform .12s ease, box-shadow .15s ease, border-color .2s ease;
}
.person-card:hover {
  transform: translateY(-2px);
  border-color: var(--ring);
  box-shadow: 0 12px 26px rgba(106,167,255,.2);
}

.person-face { aspect-ratio:1/1; background:#222 center/cover no-repeat; }
.person-name { font-weight:600; padding:8px 8px 2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.person-dept { opacity:.8; font-size:.85rem; padding:0 8px 8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* == People Page == */
.person-head { text-align:center; margin: 30px 0 10px; }
.person-head .page-title { font-weight: 800; font-size: 32px; }
.person-head .sub { opacity:.7; }

.profile-hero { display:grid; grid-template-columns: 160px 1fr; gap:18px; align-items:center; margin: 18px 0 10px; }
.profile-photo {
  width:160px;height:160px;border-radius:14px;background:#1b1c20;
  background-size:cover;background-position:center;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.profile-title { font-size:28px; font-weight:800; margin:0 0 4px; }
.facts { display:flex; flex-wrap:wrap; gap:8px; }
.facts .fact { font-size:13px; opacity:.9; background:rgba(255,255,255,.06); padding:6px 10px; border-radius:999px; }

.pill-row { display:flex; gap:10px; flex-wrap:wrap; }
.pill {
  padding:8px 12px; border:1px solid rgba(255,255,255,.12);
  border-radius:999px; background:transparent; cursor:pointer;
}
.pill:hover { border-color:#7b3ff2; color:#fff; }

.biography .bio-text { line-height:1.7; opacity:.95; }

.controls { display:flex; justify-content:space-between; align-items:center; gap:12px; margin:18px 0; }
.seg { display:inline-flex; background:#121217; border:1px solid rgba(255,255,255,.06); border-radius:10px; padding:4px; }
.seg-btn { border:0; background:transparent; color:#ddd; padding:8px 12px; border-radius:8px; cursor:pointer; }
.seg-btn.active { background:#5e2bd6; color:#fff; }

/* IMPORTANT: scope these so they don't override global toolbar */
.controls .sel, .controls .text {
  background:#0f1014;
  border:1px solid rgba(255,255,255,.12);
  color:#eee;
  padding:10px 12px;
  border-radius:10px;
}
:root[data-theme="light"] .controls .sel,
:root[data-theme="light"] .controls .text{
  background:#fff;
  color:#111;
  border-color:#ddd;
}

/* Tile grid reused from index style */
.grid { display:grid; gap:16px; }
.grid-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
@media (max-width:1200px){ .grid-5{ grid-template-columns: repeat(4,1fr);} }
@media (max-width:900px){ .grid-5{ grid-template-columns: repeat(3,1fr);} }
@media (max-width:640px){ .grid-5{ grid-template-columns: repeat(2,1fr);} }

.tile {
  display:block; background:#121217; border:1px solid rgba(255,255,255,.06);
  border-radius:14px; overflow:hidden; text-decoration:none; color:inherit;
}
.tile-poster { aspect-ratio:2/3; background:#0f1014 center/cover no-repeat; }
.tile-meta { padding:10px 12px; }
.tile-title { font-weight:700; }
.tile-title .year { opacity:.7; font-weight:500; }
.tile-sub { opacity:.85; margin-top:2px; font-size:13px; }
.tile-pop { opacity:.7; font-size:12px; margin-top:6px; }

/* Feedback card */
.feedback-card { margin:28px 0 40px; padding:18px; border:1px solid rgba(255,255,255,.08); border-radius:14px; background:linear-gradient(180deg, rgba(123,63,242,.08), rgba(123,63,242,.03)); }
.feedback-card h3 { margin-top:0; }
.feedback-form { display:grid; gap:10px; max-width:680px; }
.feedback-form .btn { justify-self:start; }
/* ---- Smaller, clearer details modal ---- */
.modal__dialog{
  /* narrower and shorter overall */
  width: min(92vw, 820px);        /* was usually ~960–1000px */
  max-height: 86vh;               /* keep it inside viewport */
  overflow: hidden;               /* scroll only inner content */
  border-radius: 14px;
}

.details{
  display: grid;
  grid-template-columns: 260px 1fr; /* smaller poster column */
  gap: 20px;
  padding: 20px;
  max-height: calc(86vh - 40px);    /* minus padding */
  overflow: auto;                   /* scroll content if long */
}

/* poster side a bit smaller */
.details__poster{
  width: 100%;
  height: auto;
  border-radius: 10px;
}

/* title & meta spacing tightened slightly for clarity */
.details__title{ margin: 2px 0 8px; }
.details__sub   { gap: 8px; }

/* video height responsive but smaller by default */
.details .video iframe{
  width: 100%;
  height: clamp(190px, 34vw, 320px);
  border-radius: 8px;
}

/* providers rows wrap nicely inside the reduced width */
.providers .prov-list{
  display: flex; flex-wrap: wrap; gap: 8px;
}

/* --- Mobile tweaks --- */
@media (max-width: 720px){
  .modal__dialog{ width: 94vw; max-height: 88vh; }
  .details{
    grid-template-columns: 1fr;
    gap: 16px;
    padding: 16px;
  }
  .details__left{ display: flex; justify-content: center; }
  .details__poster{ width: min(70vw, 320px); }
  .details .video iframe{ height: clamp(180px, 48vw, 260px); }
}
/* Containers */
.cfx { padding: 56px 0; }
.cfw { width: min(1200px, 92vw); margin: 0 auto; }
.eyebrow { color: var(--muted, #9aa4b2); font-size: .9rem; margin-bottom: 6px; letter-spacing: .04em; }
.cfx h2 { font-size: clamp(1.6rem, 2.2vw, 2.2rem); margin: 0 0 18px; }

/* Feature cards */
.cf-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 16px;
}
@media (max-width: 900px){ .cf-grid { grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 640px){ .cf-grid { grid-template-columns: 1fr; } }

.cf-card {
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  padding: 16px 14px;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  outline: none;
}
.cf-card:hover, .cf-card:focus {
  transform: translateY(-3px);
  border-color: rgba(139,92,246,.6);
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}
.cf-card.is-active { transform: translateY(-1px) scale(.995); }
.cf-card h3 { margin: 8px 0 6px; font-size: 1.05rem; }
.cf-card p { margin: 0; color: var(--muted, #a8b0bd); line-height: 1.5; }
.cf-ico { font-size: 22px; line-height: 1; }

/* Steps */
.cfx-steps .steps {
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: 14px;
  padding: 0;
  list-style: none;
}
@media (max-width: 980px){ .cfx-steps .steps { grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 640px){ .cfx-steps .steps { grid-template-columns: 1fr; } }
.step {
  background: rgba(255,255,255,0.02);
  border: 1px dashed rgba(255,255,255,0.08);
  border-radius: 12px; padding: 14px;
  transition: background .2s ease, transform .2s ease;
}
.step:hover { background: rgba(255,255,255,0.04); transform: translateY(-2px); }
.step .num {
  display: inline-block; font-weight: 700; font-size: .85rem;
  padding: 4px 8px; border-radius: 999px; background: rgba(139,92,246,.18);
  border: 1px solid rgba(139,92,246,.35); margin-bottom: 8px;
}

/* FAQ accordion */
.cfx-faq .faq { margin-top: 10px; }
.qa { border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; background: rgba(255,255,255,0.02); margin: 10px 0; overflow: hidden; }
.qa[open] { background: rgba(255,255,255,0.04); border-color: rgba(139,92,246,.45); }
.qa-head { cursor: pointer; user-select: none; display: flex; align-items: center; justify-content: space-between; gap: 10px; padding: 14px 16px; font-weight: 600; }
.qa-head:hover { background: rgba(255,255,255,0.03); }
.qa-body { padding: 0 16px 16px; color: var(--muted, #a8b0bd); }
.qa .chev { transition: transform .2s ease; opacity: .9; }
.qa[open] .chev { transform: rotate(180deg); }

/* Black footer */
.cf-footer { background: #0b0b0f; border-top: 1px solid rgba(255,255,255,0.06); color: #e8eaf0; padding: 36px 0 24px; }
.foot-grid {
  display: grid; gap: 18px;
  grid-template-columns: 1.2fr .8fr .8fr;
}
@media (max-width: 820px){ .foot-grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 560px){ .foot-grid { grid-template-columns: 1fr; } }
.brand { font-weight: 800; font-size: 1.1rem; }
.muted { color: #a8b0bd; }
.foot-h { margin: 0 0 8px; font-size: .95rem; }
.cf-footer ul { list-style: none; padding: 0; margin: 0; }
.cf-footer a { color: #e8eaf0; text-decoration: none; opacity: .9; }
.cf-footer a:hover { opacity: 1; text-decoration: underline; }
.foot-base { border-top: 1px solid rgba(255,255,255,0.06); margin-top: 18px; padding-top: 14px; color: #9aa4b2; font-size: .9rem; }
