<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Game Finder — CineForge</title>
  <meta name="description" content="Discover amazing PC & console games at the best prices. Filter by genre, platform, mood, and budget — with AI-powered recommendations." />
  <link rel="icon" href="/assets/icons/favicon.ico" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <style>
   :root {
  --bg:#0b0b0e; --fg:#fff; --muted:#b7b9c2;
  --card:#141414; --line:rgba(255,255,255,.08);
  --brand:#7b3ff2;
}
:root[data-theme="light"] {
  --bg:#f7f8fb; --fg:#111; --muted:#4a4d57;
  --card:#fff; --line:#e2e6ef;
}

/* ===== Global resets ===== */
*{box-sizing:border-box}
html, body { height:100%; }
body {
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font:16px/1.55 system-ui,Segoe UI,Roboto,Arial;
}

/* ===== Header (from index.html, fixed spacing) ===== */
.topbar {
  position:sticky; top:0; z-index:100;
  background:#0b0b0e;
  border-bottom:1px solid rgba(255,255,255,.06);
  display:flex; align-items:center; gap:14px;
  padding:12px 16px; margin:0;
}
.brand {
  color:#fff; text-decoration:none;
  font-weight:900; font-size:20px;
  flex:0 0 auto;
}
.brand-accent { color:var(--brand); }
.topbar .nav {
  flex:1 0 auto; display:flex; justify-content:center; align-items:center;
  gap:8px; margin:0; padding:0;
}
.topbar .action-group {
  flex:0 0 auto; margin-left:8px;
  display:flex; gap:6px; align-items:center;
  background:#101014; padding:4px;
  border-radius:12px; border:1px solid rgba(255,255,255,.06);
}

/* ===== Chips ===== */
.icon-chip {
  display:grid; place-items:center;
  height:40px; padding:0 14px;
  border-radius:10px; border:1px solid transparent;
  color:#fff; cursor:pointer;
  background:transparent; text-decoration:none; line-height:1;
  transition:background .18s,color .18s,border-color .18s,box-shadow .20s,transform .08s;
}
.nav .icon-chip { height:40px; }
.icon-chip:hover,.icon-chip.is-active {
  background:var(--brand); border-color:var(--brand);
  box-shadow:0 8px 18px rgba(123,63,242,.45),0 0 0 2px rgba(123,63,242,.25) inset;
}
.icon-chip.is-active {
  background:#5e2bd6; color:#fff; border-color:#5e2bd6;
  box-shadow:0 8px 18px rgba(94,43,214,.45),0 0 0 2px rgba(94,43,214,.25) inset;
}
.icon-chip:active { transform:scale(.98); }
.icon-chip svg { width:20px; height:20px; stroke:currentColor; fill:none; stroke-width:2; }

/* Theme icon swap */
.icon-stack{position:relative;width:20px;height:20px}
.theme-icon{position:absolute;inset:0;transition:transform .25s ease,opacity .25s ease}
.icon-sun{opacity:0;transform:rotate(90deg) scale(0)}
.icon-moon{opacity:1;transform:rotate(0) scale(1)}
:root[data-theme="light"] .icon-sun{opacity:1;transform:rotate(0) scale(1)}
:root[data-theme="light"] .icon-moon{opacity:0;transform:rotate(-90deg) scale(0)}

    /* layout */
    .rail{max-width:1120px;margin:0 auto;padding:0 18px}
    .hero .badge{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:12px;border:1px solid rgba(123,63,242,.35);background:#121520;color:#a7a3ff;font-weight:700;font-size:.82rem;margin:0 auto 8px}
    .typo{font-size:clamp(34px,4vw,52px);font-weight:900;margin:6px 0;text-align:center}
    .sub{max-width:900px;margin:4px auto 0;line-height:1.55;text-align:center}

    .finder-grid{display:grid;gap:22px;margin-top:26px;grid-template-columns:1fr}
    @media (min-width:980px){.finder-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    .card{background:#0f1117;border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:18px}
    :root[data-theme="light"] .card{background:#fff;border-color:rgba(0,0,0,.12)}
    .title{font-size:1.12rem;margin:0 0 10px}

    .field{display:block;width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:#0f1117;color:#fff}
    :root[data-theme="light"] .field{background:#fff;color:#111;border-color:rgba(0,0,0,.12)}
    .row.controls{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;margin-top:12px}

    .chips{display:grid;gap:8px;margin-top:12px}
    .chips .chip{display:flex;align-items:center;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:#101218;color:rgba(255,255,255,.9);cursor:pointer}
    .chips .chip:hover{background:#121520;border-color:rgba(123,63,242,.35)}
    :root[data-theme="light"] .chips .chip{background:#f7f7ff;color:#222;border-color:#d8cfff}

    .btn{display:inline-flex;justify-content:center;align-items:center;gap:8px;padding:12px 14px;border-radius:12px;border:1px solid transparent;cursor:pointer;text-decoration:none}
    .btn-primary{background:#7b3ff2;color:#fff;box-shadow:0 8px 20px rgba(123,63,242,.28)}

    /* right column */
    .status{display:flex;align-items:center;gap:10px;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px;background:#0b0e14}
    .status .dot{width:8px;height:8px;border-radius:50%;background:#7c89ff;display:inline-block}
    .status.ok .dot{background:#49de82}
    .reco{width:100%;min-height:220px;margin-top:10px}
    .is-hidden{display:none}
    /* ===== Recommendations panel polish ===== */
#reco{
  width: 100%;
  min-height: 160px;
  max-height: 360px;         /* competitor ke jaisa cap */
  padding: 12px 14px;
  line-height: 1.55;
  border-radius: 10px;
  background: #12161f;       /* dark card */
  border: 1px solid rgba(255,255,255,.08);
  color: #eaeef7;
  resize: vertical;
  white-space: pre-wrap;      /* numbered lines wrap nicely */
}

/* status pill spacing thoda tight & centered */
#status{ display:flex; align-items:center; gap:8px; padding:10px 12px; }

/* ===== Store cards (competitor-style) ===== */
#stores{
  margin-top: 12px;
}

#stores .store-card{
  border: 1px solid rgba(123,63,242,.22);
  background: #0f131c;
  border-radius: 12px;
  padding: 14px;
  margin: 14px 0;
  box-shadow: 0 0 0 1px rgba(0,0,0,.2) inset;
}

#stores .store-card__title{
  font-weight: 600;
  margin-bottom: 10px;
  color: #e8ecf8;
}

/* 3 columns on desktop, 2 on mobile */
#stores .store-card__grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

#stores .store-btn{
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: 10px 12px;
  border-radius: 10px;
  text-decoration: none;
  color: #dbe4f3;
  background: #111724;
  border: 1px solid rgba(255,255,255,.10);
  font-weight: 500;
}
#stores .store-btn span{ opacity:.7; margin-left:6px; }
#stores .store-btn:hover{
  background: #141b2b;
  border-color: rgba(123,63,242,.45);
}

/* Amazon button — full width orange strip like competitor */
#stores .store-btn--amazon{
  grid-column: 1 / -1;
  justify-content: center;
  background: rgba(255,165,0,.12);
  border: 1px solid rgba(255,165,0,.35);
  color: #ffb44a;
  font-weight: 600;
}
#stores .store-btn--amazon:hover{
  background: rgba(255,165,0,.18);
  border-color: rgba(255,165,0,.55);
}

@media (max-width: 720px){
  #stores .store-card__grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}


    /* store buttons */
    #stores h4{margin:12px 0 6px}
    .store-row{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:8px;margin:4px 0 14px}
    .store-btn{display:inline-flex;align-items:center;justify-content:center;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#101218;color:#ddd;text-decoration:none}
    .store-btn:hover{background:#121520;border-color:rgba(123,63,242,.35);color:#fff}

    /* footer */
    footer.footer{--sf-bg:#0a0a0a;--sf-fg:rgba(255,255,255,.90);--sf-dim:rgba(255,255,255,.68);--sf-border:rgba(255,255,255,.08);--sf-accent:#7b3ff2;--sf-accent-2:#9e7cff;background:var(--sf-bg);color:var(--sf-fg);border-top:1px solid var(--sf-border);margin-top:48px}
    footer.footer a{color:var(--sf-fg);text-decoration:none}
    footer.footer a:hover{color:var(--sf-accent-2)}
    .footer__grid{max-width:1120px;margin:0 auto;padding:40px 20px 20px;display:grid;grid-template-columns:1fr;gap:26px;text-align:center}
    @media (min-width:680px){.footer__grid{grid-template-columns:repeat(3,minmax(0,1fr));text-align:left}}
    @media (min-width:980px){.footer__grid{grid-template-columns:repeat(4,minmax(0,1fr))}}
    .footer__brand .brand{font-weight:800;letter-spacing:.2px;display:inline-block;margin-bottom:6px}
    .footer__text{color:var(--sf-dim);max-width:720px;margin:4px auto 12px;line-height:1.55}
    .footer__social{display:flex;gap:12px;justify-content:center}
    @media (min-width:680px){.footer__social{justify-content:flex-start}}
    .footer__social a{width:38px;height:38px;display:grid;place-items:center;border:1px solid var(--sf-border);border-radius:10px;color:var(--sf-dim)}
    .footer__bottom{border-top:1px solid var(--sf-border);padding:14px 20px 26px;text-align:center}
  </style>
</head>
<body>


  <!-- ===== Header ===== -->
  <header class="topbar">
  <a class="brand" href="/"><span class="brand-accent">Cine</span>Forge</a>
  <nav class="nav" aria-label="Primary">
    <a class="icon-chip nav-chip" data-route="/" href="/">Home</a>
    <a class="icon-chip nav-chip" data-route="/reels.html" href="/reels.html">Reels</a>
    <a class="icon-chip nav-chip is-active" data-route="/blog.html" href="/blog.html">Blog</a>  <a class="icon-chip nav-chip" data-route="/tools.html" href="/tools.html">Explore Tools</a>
  </nav>
  <div class="action-group" aria-label="Header actions">
      <a href="/bookmarks.html" class="icon-chip" aria-label="Bookmarks" title="Bookmarks">
        <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
          <path d="M6 4h12a1 1 0 0 1 1 1v15l-7-4-7 4V5a1 1 0 0 1 1-1z"/>
        </svg>
      </a>
      <button id="theme-toggle" class="icon-chip" aria-label="Toggle theme" title="Toggle theme">
        <span class="icon-stack" aria-hidden="true">
          <svg class="theme-icon icon-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
          <svg class="theme-icon icon-moon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"/></svg>
        </span>
      </button>
    </div>
  </header>

<main class="container" style="padding-top:22px">
  <section class="hero rail" aria-labelledby="gf-hero">
    <div class="badge">🎮 <span>AI-Powered</span></div>
    <h1 id="gf-hero" class="typo">Game <span class="brand-accent">Finder</span></h1>
    <p class="sub">Tell us what you're looking for and we'll find the perfect games at the best prices.</p>
  </section>

  <section class="rail" style="margin-top:26px" aria-labelledby="finder-heading">
    <h2 id="finder-heading" class="visually-hidden">Find Your Next Game</h2>

    <div class="finder-grid">
      <!-- LEFT -->
      <div class="card">
        <h3 class="title">Game Search</h3>
        <form id="game-form" novalidate>
          <label for="query" class="visually-hidden">Describe the game you're looking for</label>
          <input id="query" class="field" type="text" placeholder="What type of games are you looking for? e.g. co-op RPG under $30" />

          <div class="row controls" role="group" aria-label="Filters">
            <label class="visually-hidden" for="budget">Budget</label>
            <select id="budget" class="field">
              <option value="Any budget" selected>Any budget</option>
              <option value="Under $10">Under $10</option>
              <option value="$10–$30">$10 – $30</option>
              <option value="$30–$60">$30 – $60</option>
              <option value="Over $60">Over $60</option>
            </select>

            <label class="visually-hidden" for="genre">Genre</label>
            <select id="genre" class="field">
              <option value="Any genre" selected>Any genre</option>
              <option>Action</option><option>Adventure</option><option>RPG</option>
              <option>Strategy</option><option>Simulation</option><option>Sports</option>
              <option>Racing</option><option>Puzzle</option><option>Horror</option>
              <option>Indie</option><option>Multiplayer</option><option>Co-op</option>
            </select>

            <label class="visually-hidden" for="platform">Platform</label>
            <select id="platform" class="field">
              <option value="Any platform" selected>Any platform</option>
              <option>Steam</option><option>Epic Games</option><option>GOG</option>
              <option>PlayStation</option><option>Xbox</option><option>Nintendo eShop</option>
              <option>Origin</option><option>Ubisoft Connect</option>
              <option>Microsoft Store</option><option>Retro/Classic Games</option>
              <option>Xbox Game Pass</option>
            </select>
          </div>

          <div class="chips" aria-label="Example searches">
            <button class="chip" type="button" data-fill="Best indie games under $20">Best indie games under $20</button>
            <button class="chip" type="button" data-fill="New RPGs released in 2024">New RPGs released in 2024</button>
            <button class="chip" type="button" data-fill="Co-op games for 4 players">Co-op games for 4 players</button>
            <button class="chip" type="button" data-fill="Racing games with controller support">Racing games with controller support</button>
            <button class="chip" type="button" data-fill="Horror games on sale this week">Horror games on sale this week</button>
            <button class="chip" type="button" data-fill="Strategy games similar to Civilization">Strategy games similar to Civilization</button>
          </div>

          <div style="margin-top:14px">
            <button type="submit" class="btn btn-primary">🔎 Find Games</button>
          </div>
        </form>
      </div>

      <!-- RIGHT -->
      <div class="card" role="region" aria-label="Game Recommendations">
        <h3 class="title">Game Recommendations</h3>

        <div id="status" class="status" role="status" aria-live="polite" data-state="idle">
          <span class="dot" aria-hidden="true"></span>
          <span id="status-text">Ready to calculate</span>
        </div>

        <label for="reco" class="visually-hidden">AI recommendations</label>
        <textarea id="reco" class="field reco" readonly>Enter your game preferences and click "Find Games" to get personalized recommendations.</textarea>

        <div style="display:flex;gap:10px;margin-top:10px">
          <button id="copy" class="btn is-hidden" type="button">📋 Copy Results</button>
          <button id="clear" class="btn is-hidden" type="button">✖ Clear</button>
        </div>

        <div id="stores" style="margin-top:8px"></div>
      </div>
    </div>
  </section>
</main>

<!-- FOOTER -->
<footer class="footer" id="site-footer" aria-labelledby="footer-heading">
  <div class="footer__grid">
    <div class="footer__brand">
      <a class="brand" href="/"><span class="brand-accent">Cine</span>Forge</a>
      <p class="footer__text">AI-powered picks with trailers, region-aware watch options, and easy bookmarks — built on TMDB data and Gemini reasoning.</p>
      <div class="footer__social">
        <a href="https://x.com" target="_blank" rel="noopener" aria-label="X"><svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M18 2h3l-7.5 8.6L22 22h-6.8l-4.3-5.7L5.8 22H3l8.1-9.3L2 2h6.9l3.9 5.2L18 2zm-2.4 18h1.6L8.6 4H7L15.6 20z"/></svg></a>
        <a href="https://github.com" target="_blank" rel="noopener" aria-label="GitHub"><svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 .5a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2.1c-3.3.7-4-1.6-4-1.6-.5-1.3-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1.1.1 1.6 1.2 1.6 1.2 1 1.7 2.6 1.2 3.2.9.1-.7.4-1.2.7-1.5-2.6-.3-5.3-1.3-5.3-6 0-1.3.5-2.3 1.2-3.2-.1-.3-.5-1.5.1-3.2 0 0 1-.3 3.3 1.2a11.3 11.3 0 0 1 6 0C17 4.7 18 5 18 5c.6 1.7.2 2.9.1 3.2.8.9 1.2 1.9 1.2 3.2 0 4.7-2.7 5.6-5.3 6 .4.3.7.9.7 1.8v2.6c0 .3.2.7.8.6A12 12 0 0 0 12 .5z"/></svg></a>
      </div>
    </div>

    <nav class="footer__col" aria-label="Product">
      <h3 class="footer__title">Product</h3>
      <ul class="footer__list">
        <li><a href="/">Home</a></li>
        <li><a href="/reels.html">Reels</a></li>
        <li><a href="/blog.html">Blog</a></li>
        <li><a href="/bookmarks.html">Bookmarks</a></li>
      </ul>
    </nav>

    <nav class="footer__col" aria-label="Features">
      <h3 class="footer__title">Features</h3>
      <ul class="footer__list">
        <li><a href="/#welcome">Describe → AI Picks</a></li>
        <li><a href="/#results">Title Search &amp; Typeahead</a></li>
        <li><a href="/#filters">Genre Filters</a></li>
        <li><a href="/#region-price-tools">Region &amp; Providers</a></li>
      </ul>
    </nav>

    <nav class="footer__col" aria-label="Resources">
      <h3 class="footer__title">Resources</h3>
      <ul class="footer__list">
        <li><a href="/privacy.html">Privacy</a></li>
        <li><a href="/terms.html">Terms</a></li>
        <li><a href="/sitemap.xml">Sitemap</a></li>
        <li><a href="mailto:hello@cineforge.app">Contact</a></li>
      </ul>
    </nav>
  </div>

  <div class="footer__bottom">
    <p class="footer__fine">Powered by Gemini and The Movie Database (TMDB). Not affiliated with any streaming service.</p>
    <p class="footer__copy">© <span id="year"></span> CineForge</p>
  </div>
</footer>

<noscript>
  <div class="rail" style="margin:20px auto;color:#ffb4b4">
    JavaScript is required for Game Finder to work.
  </div>
</noscript>

<!-- Put the tools key before gemini.js so window.GEMINI_API_KEY is ready -->
<script>
  window.CINEFORGE_GEMINI_KEY = 'AIzaSyB9Yy756zuyH55DnTBCGX6Y2HDDA41jKOo';
  // optional: window.CINEFORGE_GEMINI_MODEL = 'gemini-2.0-flash';
</script>

<!-- ORDER MATTERS: 1) gemini (wrapper) ➜ 2) page tool ➜ 3) global app -->
<script type="module" src="/assets/js/tools/gemini.js"></script>
<script type="module" src="/assets/js/tools/game-finder.js"></script>
<script type="module" src="/assets/js/app.js"></script>
</body>
</html>
