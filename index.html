<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CineForge — Find Your Next Favorite Movie or TV Show...</title>
  <meta name="description" content="Describe your mood or name a title. CineForge blends AI with TMDB to serve spot-on movie and TV picks, instant trailers, and easy bookmarks." />
  <meta name="keywords" content="movie recommendations, tv recommendations, trailers, best movies, what to watch" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="/" />
  <meta property="og:title" content="CineForge — Find Your Next Favorite Movie or TV Show" />
  <meta property="og:description" content="AI-assisted picks powered by TMDB and Gemini. Fast, accurate, bookmarkable." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/assets/icons/og.png" />
  <meta name="theme-color" content="#0f0f12" />
  <link rel="icon" href="/assets/icons/favicon.ico" />
  <link rel="preconnect" href="https://image.tmdb.org" />
  <link rel="stylesheet" href="/assets/css/style.css" />

  <style>
    :root {
      --bg:#0b0b0e; --fg:#fff; --muted:#b7b9c2;
      --card:#141414; --line:rgba(255,255,255,.08);
      --brand:#7b3ff2;
    }
    :root[data-theme="light"] {
      --bg:#f7f8fb; --fg:#111; --muted:#4a4d57;
      --card:#fff; --line:#e2e6ef;
    }

    /* ===== Global resets ===== */
    *{box-sizing:border-box}
    html, body { height:100%; }
    body {
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font:16px/1.55 system-ui,Segoe UI,Roboto,Arial;
    }

    /* ===== Header ===== */
    .topbar {
      position:sticky; top:0; z-index:100;
      background:#0b0b0e;
      border-bottom:1px solid rgba(255,255,255,.06);
      display:flex; align-items:center; gap:14px;
      padding:12px 16px; margin:0;
    }
    .brand {
      color:#fff; text-decoration:none;
      font-weight:900; font-size:20px;
      flex:0 0 auto;
    }
    .brand-accent { color:var(--brand); }
    .topbar .nav {
      flex:1 0 auto; display:flex; justify-content:center; align-items:center;
      gap:8px; margin:0; padding:0;
    }
    .topbar .action-group {
      flex:0 0 auto; margin-left:8px;
      display:flex; gap:6px; align-items:center;
      background:#101014; padding:4px;
      border-radius:12px; border:1px solid rgba(255,255,255,.06);
    }

    /* ===== Chips (header nav) ===== */
    .icon-chip {
      display:grid; place-items:center;
      height:40px; padding:0 14px;
      border-radius:10px; border:1px solid transparent;
      color:#fff; cursor:pointer;
      background:transparent; text-decoration:none; line-height:1;
      transition:background .18s,color .18s,border-color .18s,box-shadow .20s,transform .08s;
    }
    .nav .icon-chip { height:40px; }
    .icon-chip:hover,.icon-chip.is-active {
      background:var(--brand); border-color:var(--brand);
      box-shadow:0 8px 18px rgba(123,63,242,.45),0 0 0 2px rgba(123,63,242,.25) inset;
    }
    .icon-chip.is-active {
      background:#5e2bd6; color:#fff; border-color:#5e2bd6;
      box-shadow:0 8px 18px rgba(94,43,214,.45),0 0 0 2px rgba(94,43,214,.25) inset;
    }
    .icon-chip:active { transform:scale(.98); }
    .icon-chip svg { width:20px; height:20px; stroke:currentColor; fill:none; stroke-width:2; }

    /* Theme icon swap */
    .icon-stack{position:relative;width:20px;height:20px}
    .theme-icon{position:absolute;inset:0;transition:transform .25s ease,opacity .25s ease}
    .icon-sun{opacity:0;transform:rotate(90deg) scale(0)}
    .icon-moon{opacity:1;transform:rotate(0) scale(1)}
    :root[data-theme="light"] .icon-sun{opacity:1;transform:rotate(0) scale(1)}
    :root[data-theme="light"] .icon-moon{opacity:0;transform:rotate(-90deg) scale(0)}

    /* Typeahead */
    .search{position:relative;display:flex;align-items:center;gap:10px}
    .typeahead{position:absolute;left:0;right:0;top:calc(100% + 10px);z-index:30;border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,.08);background:#15161b;box-shadow:0 18px 40px rgba(0,0,0,.35);max-height:420px;display:none}
    .typeahead.show{display:block}
    .ta-list{max-height:420px;overflow:auto}
    .ta-item{display:flex;gap:12px;align-items:center;padding:10px 14px;cursor:pointer}
    .ta-item:hover{background:#1b1c22}
    .ta-poster{flex:0 0 42px;height:62px;border-radius:6px;background:#0e0f13 center/cover no-repeat}
    .ta-title{font-weight:700;line-height:1.2}
    .ta-sub{opacity:.8;font-size:12px;margin-top:2px;display:flex;gap:8px;align-items:center}
    .ta-badge{font-size:11px;padding:2px 6px;border-radius:999px;background:#26283a}
    :root[data-theme="light"] .typeahead{background:#fff;border-color:rgba(17,17,17,.12)}
    :root[data-theme="light"] .ta-item:hover{background:#f4f6fb}
    :root[data-theme="light"] .ta-badge{background:#e9ebf5}

    .nav .nav-chip{width:auto;height:40px;padding:0 14px;border-radius:10px}

    /* Welcome badge */
    .welcome-badge{width:56px;height:56px;margin:0 auto 10px;display:grid;place-items:center;border-radius:50%;background:rgba(123,63,242,.12);color:#7b3ff2}
    .welcome-badge svg{width:26px;height:26px}

    /* Composer */
    .search .search-input{height:200px;width:100%;resize:none;border-radius:28px;font-size:16px;line-height:1.55;padding:16px 120px 70px 16px;outline:none}
    .search .search-input::placeholder{opacity:.65}
    .composer-top{position:absolute;left:12px;top:12px;display:none;align-items:center;gap:8px}
    .thumbs{display:flex;gap:8px;align-items:center}
    .thumb{position:relative;width:46px;height:46px;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,.10);background:#0e0f13}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .thumb .thumb-x{position:absolute;top:-6px;left:-6px;width:18px;height:18px;border-radius:50%;display:grid;place-items:center;font-size:12px;line-height:1;background:#8f8f99;color:#fff;border:2px solid #fff;cursor:pointer}
    .search.has-thumb .composer-top{display:flex}
    .search.has-thumb .search-input{padding-top:78px}
    .bar-bottom-left{position:absolute;left:14px;bottom:12px;display:flex;align-items:center;gap:10px}
    .upload-clip{position:relative;width:36px;height:36px;border-radius:50%;background:transparent;display:grid;place-items:center;cursor:pointer;color:inherit;border:none}
    .upload-clip:hover{background:rgba(123,63,242,.12)}
    :root[data-theme="light"] .upload-clip:hover{background:rgba(0,0,0,.06)}
    .tooltip{position:absolute;bottom:46px;left:0;display:none;white-space:nowrap;padding:8px 12px;border-radius:999px;font-size:13px;line-height:1.2;background:#15161b;color:#fff;border:1px solid rgba(255,255,255,.10);box-shadow:0 8px 24px rgba(0,0,0,.25);z-index:20}
    :root[data-theme="light"] .tooltip{background:#fff;color:#111;border-color:rgba(17,17,17,.12)}
    .tooltip::after{content:"";position:absolute;left:18px;top:100%;border-width:7px;border-style:solid;border-color:#15161b transparent transparent transparent}
    :root[data-theme="light"] .tooltip::after{border-top-color:#fff}
    .search .btn.btn-primary{position:absolute;right:12px;bottom:12px;height:42px;padding:0 18px;border-radius:20px}

    /* Footer (always black) */
    footer.footer{--sf-bg:#0a0a0a;--sf-fg:rgba(255,255,255,.90);--sf-dim:rgba(255,255,255,.68);--sf-border:rgba(255,255,255,.08);--sf-accent:#7b3ff2;--sf-accent-2:#9e7cff;background:var(--sf-bg);color:var(--sf-fg);border-top:1px solid var(--sf-border);margin-top:48px}
    footer.footer a{color:var(--sf-fg);text-decoration:none}
    footer.footer a:hover{color:var(--sf-accent-2)}
    footer.footer a:focus-visible{outline:0;box-shadow:0 0 0 3px rgba(123,63,242,.35);border-radius:6px}
    .footer__grid{max-width:1120px;margin:0 auto;padding:40px 20px 20px;display:grid;grid-template-columns:1fr;gap:26px;text-align:center}
    @media (min-width:680px){.footer__grid{grid-template-columns:repeat(3,minmax(0,1fr));text-align:left}}
    @media (min-width:980px){.footer__grid{grid-template-columns:repeat(4,minmax(0,1fr))}}
    .footer__brand .brand{font-weight:800;letter-spacing:.2px;display:inline-block;margin-bottom:6px}
    .footer__brand .brand .brand-accent{color:var(--sf-accent)}
    .footer__text{color:var(--sf-dim);max-width:720px;margin:4px auto 12px;line-height:1.55}
    .footer__social{display:flex;gap:12px;justify-content:center}
    @media (min-width:680px){.footer__social{justify-content:flex-start}}
    .footer__social a{width:38px;height:38px;display:grid;place-items:center;border:1px solid var(--sf-border);border-radius:10px;color:var(--sf-dim);transition:border-color .18s,color .18s,background .18s,transform .06s}
    .footer__social a:hover{color:#fff;background:rgba(123,63,242,.16);border-color:rgba(123,63,242,.45);transform:translateY(-1px)}
    .footer__social svg{width:18px;height:18px;fill:currentColor}
    .footer__title{font-weight:700;letter-spacing:.3px;margin:4px 0 8px;color:#fff}
    .footer__list{list-style:none;margin:0;padding:0}
    .footer__list li{padding:6px 0}
    .footer__list a{color:var(--sf-dim);transition:color .18s,transform .06s}
    .footer__list a:hover{color:#fff;transform:translateX(2px)}
    .footer__bottom{border-top:1px solid var(--sf-border);padding:14px 20px 26px;text-align:center}
    .footer__fine,.footer__copy{color:var(--sf-dim);margin:4px 0}
    :root[data-theme="light"] footer.footer{--sf-fg:rgba(255,255,255,.92);--sf-dim:rgba(255,255,255,.74);--sf-border:rgba(255,255,255,.10)}

    /* ===== Gap fix between search and Welcome (default) ===== */
    .hero{margin-bottom:16px}
    #welcome{margin-top:10px !important}
  </style>

  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","name":"CineForge","url":"/","potentialAction":{"@type":"SearchAction","target":"/?q={search_term_string}","query-input":"required name=search_term_string"}}
  </script>
</head>
<body>
<header class="topbar">
  <a class="brand" href="/"><span class="brand-accent">Cine</span>Forge</a>
  <nav class="nav" aria-label="Primary">
    <a class="icon-chip nav-chip" data-route="/" href="/">Home</a>
    <a class="icon-chip nav-chip" data-route="/reels.html" href="/reels.html">Reels</a>
    <a class="icon-chip nav-chip" data-route="/blog.html" href="/blog.html">Blog</a>
    <a class="icon-chip nav-chip" data-route="/tools.html" href="/tools.html">Explore Tools</a>
  </nav>
  <div class="action-group" aria-label="Header actions">
    <a href="/bookmarks.html" class="icon-chip" aria-label="Bookmarks" title="Bookmarks">
      <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path d="M6 4h12a1 1 0 0 1 1 1v15l-7-4-7 4V5a1 1 0 0 1 1-1z"/></svg>
    </a>
    <button id="theme-toggle" class="icon-chip" aria-label="Toggle theme" title="Toggle theme">
      <span class="icon-stack" aria-hidden="true">
        <svg class="theme-icon icon-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
        <svg class="theme-icon icon-moon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"/></svg>
      </span>
    </button>
  </div>
</header>

<script>
  (function(){
    const here = location.pathname.replace(/\/+$/, '') || '/';
    document.querySelectorAll('.nav-chip').forEach(a=>{
      const route = a.getAttribute('data-route');
      if ((route === '/' && here === '/') || (route !== '/' && here.endsWith(route))) a.classList.add('is-active');
    });
  })();
</script>

<main class="container">
  <!-- Hero -->
  <section class="hero">
    <h1 class="typo" aria-live="polite"><span id="hero-title"></span><span class="caret" aria-hidden="true"></span></h1>
    <p class="sub">Tell us the vibe or name a title — CineForge blends AI with TMDB to surface the perfect movie or show.</p>

    <div class="mode-switch" role="tablist" aria-label="Search mode">
      <!-- Default inactive -->
      <button id="mode-describe" class="chip" role="tab" aria-selected="false">✨ Describe</button>
      <!-- Default ACTIVE -->
      <button id="mode-title" class="chip chip--active" role="tab" aria-selected="true">🎬 Movie / TV</button>
    </div>

    <!-- Search -->
    <form id="search-form" class="search" role="search" aria-label="CineForge search" data-cf-search="both">
      <div class="composer-top" id="composer-top">
        <div id="thumbs" class="thumbs" aria-live="polite" aria-label="Attached image previews"></div>
      </div>

      <textarea id="search-input" class="search-input" rows="6" placeholder="Type a movie or show…"></textarea>

      <div class="bar-bottom-left">
        <input id="image-input" type="file" accept="image/png" multiple hidden>
        <button type="button" id="image-trigger" class="upload-clip" aria-label="Add images">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M21 12.5l-8.59 8.59a6 6 0 01-8.49-8.49L13 3.5a4 4 0 015.66 5.66l-9.2 9.2a2.5 2.5 0 01-3.54-3.54L14 7.75" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span id="clip-tip" class="tooltip">Add PNG files only (max 5, 5MB each)</span>
        </button>
      </div>

      <button id="suggest-btn" type="button" class="btn btn-primary">Suggest</button>

      <div id="typeahead" class="typeahead" role="listbox" aria-label="Suggestions" hidden>
        <div class="ta-list" id="ta-list"></div>
      </div>
    </form>
  </section>

  <!-- Tools -->
  <div class="toolbar" aria-label="Result tools" hidden>
    <select id="type-select" class="sel" aria-label="Filter by type">
      <option value="all">All Types</option>
      <option value="movie">Movie</option>
      <option value="tv">TV</option>
    </select>
    <select id="sort-select" class="sel" aria-label="Sort results">
      <option value="default">Default</option>
      <option value="rating">Rating</option>
      <option value="yearDesc">Year (new → old)</option>
      <option value="yearAsc">Year (old → new)</option>
    </select>
    <input id="search-in-results" class="text" placeholder="Filter results…" aria-label="Search within results" />
  </div>

  <section id="filters" class="filters" hidden></section>

  <div id="region-price-tools" class="toolbar region-price-tools" aria-label="Region & Price controls" hidden>
    <select id="region-select" class="sel" aria-label="Choose region"></select>
    <select id="price-select" class="sel" aria-label="Filter by price type">
      <option value="all">All Providers</option>
      <option value="flatrate">Stream (Subscription)</option>
      <option value="free">Free</option>
      <option value="rent">Rent</option>
      <option value="buy">Buy</option>
    </select>
  </div>

  <!-- RESULTS -->
  <section id="results" class="grid" aria-live="polite"></section>

  <section id="empty" class="empty" hidden>
    Try a description like <em>“a funny space opera with aliens”</em> or search a title.
  </section>

  <div style="text-align:center;margin:10px 0 60px;">
    <button id="load-more" class="btn btn-primary" style="display:none;">Load More</button>
  </div>

  <!-- Welcome -->
  <section id="welcome" class="empty" style="margin-top:10px;">
    <div class="welcome-badge" aria-hidden="true">
      <svg viewBox="0 0 24 24"><path d="M15 4l1-2 1 2 2 1-2 1-1 2-1-2-2-1 2-1zM3 21l9-9 3 3-9 9H3v-3zM14 7l3 3"/></svg>
    </div>
    <h2 style="font-weight:800;margin-bottom:6px;">Welcome to CineForge</h2>
    <p>Tell us what you're in the mood for, and our AI will suggest the perfect movies and TV shows for your night in.</p>
  </section>

  <!-- Marketing/FAQ mount -->
  <div id="marketing" data-mount="sections"></div>
</main>

<!-- Trailer / Details Modal -->
<div id="modal" class="modal" aria-hidden="true">
  <div class="modal-backdrop" data-close></div>
  <div class="modal-dialog" role="dialog" aria-modal="true" aria-label="Trailer">
    <button class="modal-close" data-close aria-label="Close">&times;</button>
    <div class="modal-body">
      <iframe id="yt-frame" width="100%" height="100%" allow="autoplay; encrypted-media" allowfullscreen title="Trailer"></iframe>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="footer" id="site-footer" aria-labelledby="footer-heading">
  <div class="footer__grid">
    <div class="footer__brand">
      <a class="brand" href="/" aria-label="CineForge home"><span class="brand-accent">Cine</span>Forge</a>
      <p class="footer__text">AI-powered picks with trailers, region-aware watch options, and easy bookmarks — built on TMDB data and Gemini reasoning.</p>
      <div class="footer__social" aria-label="Social links">
        <a href="https://x.com" target="_blank" rel="noopener" aria-label="X">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M18 2h3l-7.5 8.6L22 22h-6.8l-4.3-5.7L5.8 22H3l8.1-9.3L2 2h6.9l3.9 5.2L18 2zm-2.4 18h1.6L8.6 4H7L15.6 20z"/></svg>
        </a>
        <a href="https://github.com" target="_blank" rel="noopener" aria-label="GitHub">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 .5a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2.1c-3.3.7-4-1.6-4-1.6-.5-1.3-1.2-1.6-1.2-1.6-1-.7.1-.7.1-.7 1.1.1 1.6 1.2 1.6 1.2 1 1.7 2.6 1.2 3.2.9.1-.7.4-1.2.7-1.5-2.6-.3-5.3-1.3-5.3-6 0-1.3.5-2.3 1.2-3.2-.1-.3-.5-1.5.1-3.2 0 0 1-.3 3.3 1.2a11.3 11.3 0 0 1 6 0C17 4.7 18 5 18 5c.6 1.7.2 2.9.1 3.2.8.9 1.2 1.9 1.2 3.2 0 4.7-2.7 5.6-5.3 6 .4.3.7.9.7 1.8v2.6c0 .3.2.7.8.6A12 12 0 0 0 12 .5z"/></svg>
        </a>
      </div>
    </div>

    <nav class="footer__col" aria-label="Product">
      <h3 class="footer__title">Product</h3>
      <ul class="footer__list">
        <li><a href="/">Home</a></li>
        <li><a href="/reels.html">Reels</a></li>
        <li><a href="/blog.html">Blog</a></li>
        <li><a href="/bookmarks.html">Bookmarks</a></li>
      </ul>
    </nav>

    <nav class="footer__col" aria-label="Features">
      <h3 class="footer__title">Features</h3>
      <ul class="footer__list">
        <li><a href="#welcome">Describe → AI Picks</a></li>
        <li><a href="#results">Title Search &amp; Typeahead</a></li>
        <li><a href="#filters">Genre Filters</a></li>
        <li><a href="#region-price-tools">Region &amp; Providers</a></li>
      </ul>
    </nav>

    <nav class="footer__col" aria-label="Resources">
      <h3 class="footer__title">Resources</h3>
      <ul class="footer__list">
        <li><a href="/privacy.html">Privacy</a></li>
        <li><a href="/terms.html">Terms</a></li>
        <li><a href="/sitemap.xml">Sitemap</a></li>
        <li><a href="mailto:hello@cineforge.app">Contact</a></li>
      </ul>
    </nav>
  </div>

  <div class="footer__bottom">
    <p class="footer__fine">Powered by Gemini and The Movie Database (TMDB). Not affiliated with any streaming service.</p>
    <p class="footer__copy">© <span id="year"></span> CineForge</p>
  </div>
</footer>

<noscript><div class="empty">CineForge needs JavaScript enabled.</div></noscript>

<!-- Attachments helper (PNG thumbs + placeholder swap) -->
<script>
  (function () {
    const MAX_FILES = 5, MAX_MB = 5;
    const form = document.getElementById('search-form');
    const ta = document.getElementById('search-input');
    const trigger = document.getElementById('image-trigger');
    const input = document.getElementById('image-input');
    const thumbs = document.getElementById('thumbs');

    window.CF_ATTACH = window.CF_ATTACH || [];
    const DEFAULT_PH='Type a movie or show…', IMAGE_PH='Ask me anything…', CLEAR_IF_CONTAINS='using attached image';

    function fp(f){return [f.name,f.size,f.lastModified].join('::')}
    function setPlaceholder(t){ta.setAttribute('placeholder',t)}
    function forcePlaceholder(t){setPlaceholder(t);setTimeout(()=>setPlaceholder(t),0);setTimeout(()=>setPlaceholder(t),50)}

    function updateComposerState(){
      const hasThumbs = thumbs.childElementCount>0;
      form.classList.toggle('has-thumb',hasThumbs);
      if(hasThumbs){ if(ta.value.trim().toLowerCase().includes(CLEAR_IF_CONTAINS)) ta.value=''; forcePlaceholder(IMAGE_PH); }
      else { if(ta.value.trim().toLowerCase().includes(CLEAR_IF_CONTAINS)) ta.value=''; forcePlaceholder(DEFAULT_PH); }
      window.dispatchEvent(new Event('cf-attachments-changed'));
    }

    function makeThumb(file){
      const wrap=document.createElement('span'); wrap.className='thumb'; wrap.dataset.fp=fp(file);
      const img=document.createElement('img'); img.alt=''; img.src=URL.createObjectURL(file);
      const x=document.createElement('span'); x.className='thumb-x'; x.title='Remove'; x.textContent='×';
      x.addEventListener('click',()=>{ URL.revokeObjectURL(img.src); wrap.remove(); const i=window.CF_ATTACH.findIndex(f=>fp(f)===wrap.dataset.fp); if(i>-1) window.CF_ATTACH.splice(i,1); input.value=''; updateComposerState();});
      wrap.append(img,x); return wrap;
    }

    trigger.addEventListener('click',()=>input.click());
    input.addEventListener('change',()=>{
      const files=Array.from(input.files||[]); if(!files.length){updateComposerState();return;}
      let available=5-window.CF_ATTACH.length; if(available<=0){input.value='';updateComposerState();return;}
      const accepted=files
        .filter(f=>f.type==='image/png'||/\.png$/i.test(f.name||''))
        .filter(f=>f.size<=MAX_MB*1024*1024)
        .slice(0,available);
      accepted.forEach(f=>{window.CF_ATTACH.push(f); thumbs.appendChild(makeThumb(f));});
      input.value=''; updateComposerState();
    });

    const tip=document.getElementById('clip-tip');
    trigger.addEventListener('focus',()=>tip.style.display='block');
    trigger.addEventListener('blur',()=>tip.style.display='none');

    setPlaceholder(DEFAULT_PH); updateComposerState();
  })();
</script>

<!-- Keep marketing placed around results nicely -->
<script>
  (function(){
    const results = document.getElementById('results');
    const marketing = document.getElementById('marketing');
    if(!results || !marketing) return;
    const parent = results.parentNode;
    function place(){
      const hasCards = !!results.querySelector('.card');
      if (hasCards && marketing.previousElementSibling !== results) parent.insertBefore(marketing, results.nextSibling);
      if (!hasCards && marketing.nextElementSibling !== results) parent.insertBefore(marketing, results);
    }
    const mo = new MutationObserver(place);
    mo.observe(results, {childList:true});
    document.addEventListener('DOMContentLoaded', place);
    window.addEventListener('cf-attachments-changed', place);
  })();
</script>

<!-- App modules -->
<script type="module" src="/assets/js/app.js"></script>
<script type="module" src="/assets/js/sections.js"></script>

<!-- Tiny config (optional) -->
<script>
  window.CF_SEARCH = Object.assign({}, window.CF_SEARCH || {}, {
    mode: 'both',
    selectors: {
      form: '#search-form',
      input: '#search-input',
      suggestBtn: '#suggest-btn',
      typeahead: '#typeahead',
      taList: '#ta-list',
      results: '#results',
      empty: '#empty',
      loadMore: '#load-more'
    }
  });
</script>
</body>
</html>
